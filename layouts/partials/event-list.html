<div class="posts">
	{{ $paginator := .Paginate (where .Site.RegularPages.ByDate.Reverse "Type" "event") }}
	{{ range $paginator.Pages -}}

	<!-- <a class="post-link" href="{{ .Permalink }}"> -->
	<a class="post-link" href="#{{ .Params.modal }}">
		<div class="post-teaser center-align">
			<img src="{{ .Site.BaseURL }}/img/{{ .Params.image }}" style="width: 40%;">
			<header>
			    <h5>{{ .Title }}</h5>
			</header>
		</div>
	</a>

	<!-- Modal Structure -->
	<div id="{{ .Params.modal }}" class="modal modal-fixed-footer">
		<!-- Desktop and Tablet Layout -->
		<div class="hide-on-small-and-down modal-content row">
			<div class="col s8 m8 l8">
				<h5>{{ .Title }}</h5>
				<p>{{ .Content }}</p>
				<a class="button" href="{{ .Params.externalLink }}">External Link</a>
			</div>
			<div class="col s4 m4 l4">
				<img src="{{ .Site.BaseURL }}/img/{{ .Params.image }}">
			</div>
		</div>

		<!-- Mobile Layout -->
		<div class="hide-on-med-and-up modal-content">
			<h5>{{ .Title }}</h5>
			<img src="{{ .Site.BaseURL }}/img/{{ .Params.image }}">
			<p>{{ .Content }}</p>
			<a class="button" href="{{ .Params.externalLink }}">External Link</a>	
		</div>

		<div class="modal-footer">
			<div class="modal-action modal-close btn-flat">Close</div>
		</div>
		
	</div>

	{{- end }}

</div>

<script type="text/javascript">

	$(document).ready(function(){
		// the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
		$('.modal').modal({
			dismissible:false
		});
	});
</script>
